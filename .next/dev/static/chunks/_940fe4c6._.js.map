{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangguanghua/Desktop/agnet-web/components/PigAgent.tsx"],"sourcesContent":["'use client';\n\nimport { useFrame } from '@react-three/fiber';\nimport { Clone, useGLTF } from '@react-three/drei';\nimport React, { Suspense, memo, useEffect, useMemo, useRef } from 'react';\nimport { Box3, Group, Vector3 } from 'three';\nimport type { Mesh } from 'three';\nimport type { SessionInfo } from '@/types/logs';\n\nexport type PigAgentProps = {\n  session: SessionInfo;\n  position: [number, number, number];\n  selected?: boolean;\n  onSelect?: (sessionId: string) => void;\n  renderModel?: boolean;\n};\n\nclass ModelErrorBoundary extends React.Component<\n  { fallback: React.ReactNode },\n  { hasError: boolean }\n> {\n  constructor(props: { fallback: React.ReactNode }) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback;\n    }\n    return this.props.children;\n  }\n}\n\nconst PigModel = ({ desiredHeight }: { desiredHeight: number }) => {\n  const { scene } = useGLTF('/models/pig.glb');\n  const metrics = useMemo(() => {\n    scene.updateMatrixWorld(true);\n    const box = new Box3().setFromObject(scene);\n    if (box.isEmpty()) {\n      return { scale: 1, offset: [0, 0, 0] as [number, number, number] };\n    }\n    const size = new Vector3();\n    const center = new Vector3();\n    box.getSize(size);\n    box.getCenter(center);\n    const scale = size.y ? desiredHeight / size.y : 1;\n    const offset: [number, number, number] = [\n      -center.x * scale,\n      -box.min.y * scale,\n      -center.z * scale,\n    ];\n    return { scale, offset };\n  }, [desiredHeight, scene]);\n\n  useEffect(() => {\n    scene.traverse((child) => {\n      if ((child as Mesh).isMesh) {\n        const mesh = child as Mesh;\n        mesh.castShadow = true;\n        mesh.receiveShadow = true;\n      }\n    });\n  }, [scene]);\n\n  return (\n    <group position={metrics.offset}>\n      <Clone object={scene} scale={metrics.scale} />\n    </group>\n  );\n};\n\nconst PigPlaceholder = ({ scale }: { scale: number }) => (\n  // TODO: 放置 pig.glb 后替换占位猪模型。\n  <group scale={scale}>\n    <mesh position={[0, 0.4, 0]}>\n      <sphereGeometry args={[0.52, 26, 20]} />\n      <meshStandardMaterial color=\"#f1b9b5\" roughness={0.6} />\n    </mesh>\n    <mesh position={[0, 0.16, 0.6]}>\n      <sphereGeometry args={[0.26, 20, 16]} />\n      <meshStandardMaterial color=\"#e9a9a4\" roughness={0.7} />\n    </mesh>\n    <mesh position={[0.18, 0.1, 0.78]}>\n      <sphereGeometry args={[0.055, 12, 10]} />\n      <meshStandardMaterial color=\"#2a2422\" />\n    </mesh>\n    <mesh position={[-0.18, 0.1, 0.78]}>\n      <sphereGeometry args={[0.055, 12, 10]} />\n      <meshStandardMaterial color=\"#2a2422\" />\n    </mesh>\n  </group>\n);\n\nconst hashPhase = (value: string) => {\n  let hash = 0;\n  for (let i = 0; i < value.length; i += 1) {\n    hash = (hash << 5) - hash + value.charCodeAt(i);\n    hash |= 0;\n  }\n  const normalized = Math.abs(hash % 1000) / 1000;\n  return normalized * Math.PI * 2;\n};\n\nconst hashUnit = (value: string, seed = 1) => {\n  let hash = seed;\n  for (let i = 0; i < value.length; i += 1) {\n    hash = (hash << 5) - hash + value.charCodeAt(i) + seed * 31;\n    hash |= 0;\n  }\n  return Math.abs(hash % 1000) / 1000;\n};\n\nconst PigAgent = memo(\n  ({ session, position, selected, onSelect, renderModel = true }: PigAgentProps) => {\n  const wanderRef = useRef<Group>(null);\n  const modelRef = useRef<Group>(null);\n  const phase = useMemo(() => hashPhase(session.id), [session.id]);\n  const speedFactor = useMemo(() => hashUnit(session.id, 7), [session.id]);\n  const radiusFactor = useMemo(() => hashUnit(session.id, 13), [session.id]);\n  const baseHeight = session.kind === 'main' ? 1.25 : 0.9;\n  const desiredHeight = selected ? baseHeight * 1.08 : baseHeight;\n  const ringColor = useMemo(() => (selected ? '#ffd27a' : '#ffffff'), [selected]);\n  const ringInner = useMemo(() => desiredHeight * 0.38, [desiredHeight]);\n  const ringOuter = useMemo(() => desiredHeight * 0.56, [desiredHeight]);\n  const fallback = <PigPlaceholder scale={desiredHeight * 0.6} />;\n  const canRenderModel = renderModel;\n\n  useFrame((state) => {\n    const wander = wanderRef.current;\n    const node = modelRef.current;\n    if (!wander || !node) return;\n    const t = state.clock.getElapsedTime();\n    const wanderSpeed = 0.18 + speedFactor * 0.12;\n    const wanderRadius = desiredHeight * (0.45 + radiusFactor * 0.25);\n    const angle = t * wanderSpeed + phase;\n    const x = Math.cos(angle) * wanderRadius;\n    const z = Math.sin(angle) * wanderRadius;\n\n    wander.position.x = x;\n    wander.position.z = z;\n    wander.rotation.y = angle + Math.PI / 2;\n\n    node.rotation.y = Math.sin(t * 0.35 + phase) * 0.18;\n    node.position.y = Math.sin(t * 1.2 + phase) * 0.03;\n  });\n\n  return (\n    <group\n      position={position}\n      onPointerDown={(event) => {\n        event.stopPropagation();\n        onSelect?.(session.id);\n      }}\n    >\n      <group ref={wanderRef}>\n        {selected ? (\n          <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0.06, 0]}>\n            <ringGeometry args={[ringInner, ringOuter, 40]} />\n            <meshStandardMaterial\n              color={ringColor}\n              emissive=\"#ffcc6b\"\n              emissiveIntensity={0.35}\n            />\n          </mesh>\n        ) : null}\n        <group ref={modelRef}>\n          {canRenderModel ? (\n            <ModelErrorBoundary fallback={fallback}>\n              <Suspense fallback={fallback}>\n                <PigModel desiredHeight={desiredHeight} />\n              </Suspense>\n            </ModelErrorBoundary>\n          ) : (\n            fallback\n          )}\n        </group>\n      </group>\n    </group>\n  );\n  },\n);\n\nPigAgent.displayName = 'PigAgent';\n\nexport default PigAgent;\n"],"names":["c","_c","useFrame","Clone","useGLTF","React","Suspense","memo","useEffect","useMemo","useRef","Box3","Group","Vector3","Mesh","SessionInfo","PigAgentProps","session","position","selected","onSelect","sessionId","renderModel","ModelErrorBoundary","Component","fallback","ReactNode","hasError","constructor","props","state","getDerivedStateFromError","render","children","PigModel","t0","$","$i","Symbol","for","desiredHeight","scene","t1","bb0","updateMatrixWorld","box","setFromObject","isEmpty","t2","t3","scale","offset","size","center","getSize","getCenter","y","x","min","t4","z","t5","t6","metrics","traverse","_temp","PigPlaceholder","hashPhase","value","hash","i","length","charCodeAt","normalized","Math","abs","PI","hashUnit","seed","PigAgent","undefined","wanderRef","modelRef","phase","id","speedFactor","radiusFactor","baseHeight","kind","ringColor","ringInner","ringOuter","canRenderModel","wander","current","node","t","clock","getElapsedTime","wanderSpeed","wanderRadius","angle","cos","sin","rotation","event","stopPropagation","t7","t8","t9","displayName","child","isMesh","mesh","castShadow","receiveShadow"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 607, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangguanghua/Desktop/agnet-web/components/Farmer.tsx"],"sourcesContent":["'use client';\n\nimport React, { Suspense, useEffect, useMemo } from 'react';\nimport { useGLTF } from '@react-three/drei';\nimport { Box3, Vector3 } from 'three';\nimport type { Mesh } from 'three';\n\nexport type FarmerProps = {\n  position?: [number, number, number];\n  scale?: number;\n  rotation?: [number, number, number];\n  renderModel?: boolean;\n  desiredHeight?: number;\n};\n\nclass ModelErrorBoundary extends React.Component<\n  { fallback: React.ReactNode },\n  { hasError: boolean }\n> {\n  constructor(props: { fallback: React.ReactNode }) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback;\n    }\n    return this.props.children;\n  }\n}\n\ntype FarmerModelProps = {\n  position: [number, number, number];\n  scale: number;\n  rotation: [number, number, number];\n  desiredHeight: number;\n};\n\nconst FarmerModel = ({\n  position,\n  scale,\n  rotation,\n  desiredHeight,\n}: FarmerModelProps) => {\n  const { scene } = useGLTF('/models/farmer.glb');\n  const metrics = useMemo(() => {\n    scene.updateMatrixWorld(true);\n    const box = new Box3().setFromObject(scene);\n    if (box.isEmpty()) {\n      return { scale: 1, offset: [0, 0, 0] as [number, number, number] };\n    }\n    const size = new Vector3();\n    const center = new Vector3();\n    box.getSize(size);\n    box.getCenter(center);\n    const baseScale = size.y ? desiredHeight / size.y : 1;\n    const finalScale = baseScale * scale;\n    const offset: [number, number, number] = [\n      -center.x * finalScale,\n      -box.min.y * finalScale,\n      -center.z * finalScale,\n    ];\n    return { scale: finalScale, offset };\n  }, [desiredHeight, scale, scene]);\n  useEffect(() => {\n    scene.traverse((child) => {\n      if ((child as Mesh).isMesh) {\n        const mesh = child as Mesh;\n        mesh.castShadow = true;\n        mesh.receiveShadow = true;\n      }\n    });\n  }, [scene]);\n  return (\n    <group position={position} rotation={rotation}>\n      <group position={metrics.offset}>\n        <primitive object={scene} scale={metrics.scale} />\n      </group>\n    </group>\n  );\n};\n\ntype FarmerPlaceholderProps = {\n  position: [number, number, number];\n  scale: number;\n  rotation: [number, number, number];\n};\n\nconst FarmerPlaceholder = ({\n  position,\n  scale,\n  rotation,\n}: FarmerPlaceholderProps) => (\n  // TODO: 若未放置 farmer.glb，占位几何体会显示。\n  <mesh position={position} rotation={rotation} scale={scale}>\n    <cylinderGeometry args={[0.4, 0.5, 1.6, 18]} />\n    <meshStandardMaterial color=\"#f1b67a\" roughness={0.7} />\n  </mesh>\n);\n\nconst Farmer = ({\n  position = [6.5, 0.8, 6.5],\n  scale = 1,\n  rotation = [0, -Math.PI / 4, 0],\n  renderModel = true,\n  desiredHeight = 2.3,\n}: FarmerProps) => {\n  const fallback = (\n    <FarmerPlaceholder position={position} scale={scale} rotation={rotation} />\n  );\n  const canRenderModel = renderModel;\n\n  return (\n    <>{canRenderModel ? (\n        <ModelErrorBoundary fallback={fallback}>\n          <Suspense fallback={fallback}>\n            <FarmerModel\n              position={position}\n              scale={scale}\n              rotation={rotation}\n              desiredHeight={desiredHeight}\n            />\n          </Suspense>\n        </ModelErrorBoundary>\n    ) : (\n      fallback\n    )}</>\n  );\n};\n\nexport default Farmer;\n"],"names":["c","_c","React","Suspense","useEffect","useMemo","useGLTF","Box3","Vector3","Mesh","FarmerProps","position","scale","rotation","renderModel","desiredHeight","ModelErrorBoundary","Component","fallback","ReactNode","hasError","constructor","props","state","getDerivedStateFromError","render","children","FarmerModelProps","FarmerModel","t0","$","$i","Symbol","for","scene","t1","bb0","updateMatrixWorld","box","setFromObject","isEmpty","t2","t3","offset","size","center","getSize","getCenter","baseScale","y","finalScale","x","min","t4","z","t5","t6","metrics","traverse","_temp","FarmerPlaceholderProps","FarmerPlaceholder","Farmer","Math","PI","canRenderModel","child","isMesh","mesh","castShadow","receiveShadow"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 933, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangguanghua/Desktop/agnet-web/hooks/useAssetAvailable.ts"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\nexport type AssetStatus = 'unknown' | 'available' | 'missing';\n\nexport const useAssetAvailable = (url: string): AssetStatus => {\n  const [status, setStatus] = useState<AssetStatus>('unknown');\n\n  useEffect(() => {\n    let active = true;\n\n    const check = async () => {\n      try {\n        const response = await fetch(url, {\n          method: 'GET',\n          cache: 'no-store',\n          headers: { Range: 'bytes=0-0' },\n        });\n        if (active) setStatus(response.ok ? 'available' : 'missing');\n      } catch {\n        if (active) setStatus('missing');\n      }\n    };\n\n    void check();\n\n    return () => {\n      active = false;\n    };\n  }, [url]);\n\n  return status;\n};\n"],"names":["useEffect","useState","AssetStatus","useAssetAvailable","url","status","setStatus","active","check","response","fetch","method","cache","headers","Range","ok"],"mappings":";;;;AAEA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;;AAF3C,YAAY;;AAML,0BAA0BE,CAACC,GAAG,EAAE,MAAM,CAAC,EAAEF,WAAW,IAAI;;IAC7D,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,OAAGL,8XAAQ,CAACC,CAAa,SAAS,CAAX,AAAY,CAAX;QAEjDF,+XAAS;uCAAC,MAAM;YACd,IAAIO,MAAM,GAAG,IAAI;YAEjB,MAAMC,KAAK;qDAAG,MAAAA,CAAA,KAAY;oBACxB,IAAI;wBACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAE;4BAChCO,MAAM,EAAE,KAAK;4BACbC,KAAK,EAAE,UAAU;4BACjBC,OAAO,EAAE;gCAAEC,KAAK,EAAE;4BAAY;wBAChC,CAAC,CAAC;wBACF,IAAIP,MAAM,EAAED,SAAS,CAACG,QAAQ,CAACM,EAAE,GAAG,WAAW,GAAG,SAAS,CAAC;oBAC9D,CAAC,CAAC,OAAM;wBACN,IAAIR,MAAM,EAAED,SAAS,CAAC,SAAS,CAAC;oBAClC;gBACF,CAAC;;YAED,KAAKE,KAAK,CAAC,CAAC;YAEZ;+CAAO,MAAM;oBACXD,MAAM,GAAG,KAAK;gBAChB,CAAC;;QACH,CAAC;sCAAE;QAACH,GAAG;KAAC,CAAC;IAET,OAAOC,MAAM;AACf,CAAC;GA3BYF,iBAAiB","ignoreList":[]}},
    {"offset": {"line": 983, "column": 0}, "map": {"version":3,"sources":["file:///Users/yangguanghua/Desktop/agnet-web/components/FarmScene.tsx"],"sourcesContent":["'use client';\n\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { Environment, OrbitControls } from '@react-three/drei';\nimport { Suspense, useEffect, useMemo, useRef } from 'react';\nimport type { OrbitControls as OrbitControlsImpl } from 'three-stdlib';\nimport { Group, Vector3 } from 'three';\nimport type { SessionInfo } from '@/types/logs';\nimport PigAgent from '@/components/PigAgent';\nimport Farmer from '@/components/Farmer';\nimport { useAssetAvailable } from '@/hooks/useAssetAvailable';\n\nexport type FarmSceneProps = {\n  sessions: SessionInfo[];\n  selectedSessionId: string | null;\n  onSelectSession: (sessionId: string | null) => void;\n};\n\nconst createGridPositions = (count: number) => {\n  if (count === 0) return [] as [number, number, number][];\n  const gridSize = Math.ceil(Math.sqrt(count));\n  const spacing = 3.2;\n  const offset = (gridSize - 1) / 2;\n\n  return Array.from({ length: count }, (_, index) => {\n    const row = Math.floor(index / gridSize);\n    const col = index % gridSize;\n    const x = (col - offset) * spacing;\n    const z = (row - offset) * spacing;\n    return [x, 0, z] as [number, number, number];\n  });\n};\n\ntype PlayerRigProps = {\n  targetRef: React.RefObject<Group>;\n};\n\nconst useKeyboard = () => {\n  const keys = useRef({\n    KeyW: false,\n    KeyA: false,\n    KeyS: false,\n    KeyD: false,\n    ShiftLeft: false,\n    ShiftRight: false,\n  });\n\n  useEffect(() => {\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.code in keys.current) {\n        keys.current[event.code as keyof typeof keys.current] = true;\n        event.preventDefault();\n      }\n    };\n    const onKeyUp = (event: KeyboardEvent) => {\n      if (event.code in keys.current) {\n        keys.current[event.code as keyof typeof keys.current] = false;\n        event.preventDefault();\n      }\n    };\n    window.addEventListener('keydown', onKeyDown);\n    window.addEventListener('keyup', onKeyUp);\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n      window.removeEventListener('keyup', onKeyUp);\n    };\n  }, []);\n\n  return keys;\n};\n\nconst PlayerRig = ({ targetRef }: PlayerRigProps) => {\n  const { camera } = useThree();\n  const controlsRef = useRef<OrbitControlsImpl>(null);\n  const keys = useKeyboard();\n  const forward = useRef(new Vector3());\n  const right = useRef(new Vector3());\n  const move = useRef(new Vector3());\n\n  useFrame((_, delta) => {\n    const target = targetRef.current;\n    if (!target) return;\n\n    const x =\n      Number(keys.current.KeyD) - Number(keys.current.KeyA);\n    const z =\n      Number(keys.current.KeyW) - Number(keys.current.KeyS);\n\n    if (x === 0 && z === 0) return;\n\n    const speed = keys.current.ShiftLeft || keys.current.ShiftRight ? 6 : 3.5;\n\n    camera.getWorldDirection(forward.current);\n    forward.current.y = 0;\n    forward.current.normalize();\n    right.current.crossVectors(forward.current, camera.up).normalize();\n\n    move.current.set(0, 0, 0);\n    move.current.addScaledVector(forward.current, z);\n    move.current.addScaledVector(right.current, x);\n    move.current.normalize().multiplyScalar(speed * delta);\n\n    target.position.add(move.current);\n    camera.position.add(move.current);\n\n    if (controlsRef.current) {\n      controlsRef.current.target.copy(target.position);\n      controlsRef.current.update();\n    }\n  });\n\n  return (\n    <OrbitControls\n      ref={controlsRef}\n      makeDefault\n      enableDamping\n      dampingFactor={0.08}\n      enablePan={false}\n      minDistance={6}\n      maxDistance={30}\n      maxPolarAngle={Math.PI / 2.15}\n    />\n  );\n};\n\nconst FarmScene = ({ sessions, selectedSessionId, onSelectSession }: FarmSceneProps) => {\n  const pigs = useMemo(() => sessions.slice(0, 30), [sessions]);\n  const positions = useMemo(() => createGridPositions(pigs.length), [pigs.length]);\n  const pigModelAvailable = useAssetAvailable('/models/pig.glb') === 'available';\n  const farmerModelAvailable = useAssetAvailable('/models/farmer.glb') === 'available';\n  const farmerRig = useRef<Group>(null);\n\n  return (\n    <Canvas\n      shadows\n      dpr={[1, 2]}\n      camera={{ position: [0, 9, 14], fov: 45 }}\n      tabIndex={0}\n      aria-label=\"3D 农场场景\"\n      onPointerMissed={() => onSelectSession(null)}\n      onKeyDown={(event) => {\n        if (!pigs.length) return;\n        const currentIndex = selectedSessionId\n          ? pigs.findIndex((session) => session.id === selectedSessionId)\n          : -1;\n        const nextIndex = (indexDelta: number) => {\n          const start = currentIndex === -1 ? 0 : currentIndex;\n          return (start + indexDelta + pigs.length) % pigs.length;\n        };\n\n        if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {\n          event.preventDefault();\n          const next = pigs[nextIndex(1)];\n          onSelectSession(next?.id ?? null);\n        }\n\n        if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {\n          event.preventDefault();\n          const next = pigs[nextIndex(-1)];\n          onSelectSession(next?.id ?? null);\n        }\n\n        if (event.key === 'Escape') {\n          event.preventDefault();\n          onSelectSession(null);\n        }\n      }}\n    >\n      <color attach=\"background\" args={['#cfe0b7']} />\n      <fog attach=\"fog\" args={['#cfe0b7', 18, 42]} />\n\n      <ambientLight intensity={0.6} />\n      <directionalLight\n        position={[8, 12, 6]}\n        intensity={1.1}\n        castShadow\n        shadow-mapSize-width={2048}\n        shadow-mapSize-height={2048}\n      />\n      <PlayerRig targetRef={farmerRig} />\n\n      <mesh rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n        <planeGeometry args={[70, 70]} />\n        <meshStandardMaterial color=\"#9fc27b\" roughness={0.9} />\n      </mesh>\n\n      <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0.01, 0]}>\n        <circleGeometry args={[18, 48]} />\n        <meshStandardMaterial color=\"#a9d28c\" roughness={0.8} />\n      </mesh>\n\n      <Suspense fallback={null}>\n        <Environment preset=\"sunset\" />\n        {pigs.map((session, index) => (\n          <PigAgent\n            key={session.id}\n            session={session}\n            position={positions[index] ?? [0, 0, 0]}\n            selected={session.id === selectedSessionId}\n            onSelect={onSelectSession}\n            renderModel={pigModelAvailable}\n          />\n        ))}\n        <group ref={farmerRig} position={[6.5, 0, 6.5]}>\n          <Farmer\n            renderModel={farmerModelAvailable}\n            position={[0, 0.8, 0]}\n            desiredHeight={2.1}\n          />\n        </group>\n      </Suspense>\n    </Canvas>\n  );\n};\n\nexport default FarmScene;\n"],"names":["c","_c","Canvas","useFrame","useThree","Environment","OrbitControls","Suspense","useEffect","useMemo","useRef","OrbitControlsImpl","Group","Vector3","SessionInfo","PigAgent","Farmer","useAssetAvailable","FarmSceneProps","sessions","selectedSessionId","onSelectSession","sessionId","createGridPositions","count","gridSize","Math","ceil","sqrt","spacing","offset","Array","from","length","_","index","row","floor","col","x","z","PlayerRigProps","targetRef","React","RefObject","useKeyboard","$","$i","Symbol","for","t0","KeyW","KeyA","KeyS","KeyD","ShiftLeft","ShiftRight","keys","t1","t2","onKeyDown","event","code","current","preventDefault","onKeyUp","event_0","window","addEventListener","removeEventListener","PlayerRig","camera","controlsRef","forward","right","t3","move","t4","delta","target","Number","speed","getWorldDirection","y","normalize","crossVectors","up","set","addScaledVector","multiplyScalar","position","add","copy","update","t5","PI","FarmScene","slice","pigs","positions","pigModelAvailable","farmerModelAvailable","farmerRig","fov","t6","currentIndex","findIndex","session","id","nextIndex","indexDelta","start","key","next","next_0","t7","t10","t11","t12","t8","t9","t13","t14","t15","t16","t17","session_0","map","t18","t19","t20","t21"],"mappings":"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","ignoreList":[]}}]
}